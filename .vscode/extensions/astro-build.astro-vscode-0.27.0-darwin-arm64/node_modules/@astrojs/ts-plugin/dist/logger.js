var __defProp = Object.defineProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {get: all[name], enumerable: true});
};
__markAsModule(exports);
__export(exports, {
  Logger: () => Logger
});
class Logger {
  constructor(tsLogService, suppressNonAstroLogs = false, logDebug = false) {
    this.tsLogService = tsLogService;
    this.logDebug = logDebug;
    if (suppressNonAstroLogs) {
      const log = this.tsLogService.info.bind(this.tsLogService);
      this.tsLogService.info = (s) => {
        if (s.startsWith("-Astro Plugin-")) {
          log(s);
        }
      };
    }
  }
  log(...args) {
    const str = args.map((arg) => {
      if (typeof arg === "object") {
        try {
          return JSON.stringify(arg);
        } catch (e) {
          return "[object that cannot by stringified]";
        }
      }
      return arg;
    }).join(" ");
    this.tsLogService.info("-Astro Plugin- " + str);
  }
  debug(...args) {
    if (!this.logDebug) {
      return;
    }
    this.log(...args);
  }
}
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  Logger
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2xvZ2dlci50cyJdLAogICJtYXBwaW5ncyI6ICI7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRU8sYUFBYTtBQUFBLEVBQ25CLFlBQW9CLGNBQWdDLHVCQUF1QixPQUFlLFdBQVcsT0FBTztBQUF4RjtBQUFzRTtBQUN6RixRQUFJLHNCQUFzQjtBQUN6QixZQUFNLE1BQU0sS0FBSyxhQUFhLEtBQUssS0FBSyxLQUFLO0FBQzdDLFdBQUssYUFBYSxPQUFPLENBQUMsTUFBYztBQUN2QyxZQUFJLEVBQUUsV0FBVyxtQkFBbUI7QUFDbkMsY0FBSTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUixPQUFPLE1BQWE7QUFDbkIsVUFBTSxNQUFNLEtBQ1YsSUFBSSxDQUFDLFFBQVE7QUFDYixVQUFJLE9BQU8sUUFBUSxVQUFVO0FBQzVCLFlBQUk7QUFDSCxpQkFBTyxLQUFLLFVBQVU7QUFBQSxpQkFDZCxHQUFQO0FBQ0QsaUJBQU87QUFBQTtBQUFBO0FBR1QsYUFBTztBQUFBLE9BRVAsS0FBSztBQUNQLFNBQUssYUFBYSxLQUFLLG9CQUFvQjtBQUFBO0FBQUEsRUFHNUMsU0FBUyxNQUFhO0FBQ3JCLFFBQUksQ0FBQyxLQUFLLFVBQVU7QUFDbkI7QUFBQTtBQUVELFNBQUssSUFBSSxHQUFHO0FBQUE7QUFBQTsiLAogICJuYW1lcyI6IFtdCn0K
